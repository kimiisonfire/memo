191231_jsp_오전


오늘은 board 해볼겁니다~~~
일단 board에 데이터를 좀 넣어볼게용
외래키로 잡을때는 원래 테이블의 타입과 꼭!!! 같아야하고 

댓글 테이블 만들었는데요
요즘추세는 글 목록에서 글 제목 옆에 댓글갯수를 표시해주고
본문 상세보기 하단에 댓글 리스트가 달리는 형식입니다
상세보기화면에서는
------------
| boardVO |
------------
| replyVO  |
------------
이렇게 있으니까 댓글추가를하면 밑에 달립니다
근데 이걸 동기처리할필요가있냐? 댓글 달때마다 새로고침할필요가 있냐는거지
댓글을 비동기해줘야 댓글만 계속 새로달수가있지


댓글 개수를 표시하는방법
1) reply count라는 컬럼을 pl로 작성해서 댓글이 새로 달리면 컬럼 수정
2) boardVO에 reply count를 담아주는 방법  <<- 우리는 이걸쓸게용!
    (테이블에 담지않고 VO에만 담는겨!!)


클래스 설계할때 제일먼저 나와야하는건 VO다 잊지마
근데 이것저것 엄청 생각해야할거임 알고있어라


boardVO 만들었고요 매퍼는 쌤한테 받았습니다
매퍼에서 동적 쿼리문 작성을 위한 sql태그에서
제목검색 = 't'
내용검색 = 'c'
작성자검색 = 'w'
제목&내용 = 'tc'
제목&내용&작성자 = 'tcw'



꼭 foreign키가 답은 아니다..!
 board, notice라는 테이블을 따로 만들고 reply 테이블은 하나만 만든다고치자
board, notice에는 bno, nno를 시퀀스로 주면
reply 테이블에서 외래키로 bno, nno를 받아온다?
둘중에 하나만 써야하는데 외래키는 null이 들어갈수없어
그럼 어떻게 ㅇ외래키로 가져오냔말임
그래서 board, notice에 bno, nno를 int 시퀀스로 주지말고
b00001, n00001 형식으로 시퀀스를 데시멀포맷으로 적어줘
그리고 그거를 외래키가 아니라 그냥 가져와서 reply 테이블에 적어줘
그럼 나중에 글 삭제할때 delete를 한번 더 해주긴해야겠지
무튼 늘 외래키가 답은 아니다


pk로 시퀀스를 쓸때 sql문에 board_seq.nextval로 박지말아라
seq만 받아오는 select문으로 시퀀스를 꼭 선점하고
그걸 사용해서 setBno(이런식으로) 넣어주란말여



하여튼 오전중에는 board에 해당하는 서비스, dao 복붙만했습니다

